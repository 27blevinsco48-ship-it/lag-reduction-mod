<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Lite Client</title>

<!-- Prevent caching / disk writes -->
<meta http-equiv="Cache-Control" content="no-store, no-cache, must-revalidate">
<meta http-equiv="Pragma" content="no-cache">

<style>
html, body {
    margin: 0;
    padding: 0;
    background: black;
    overflow: hidden;
    height: 100%;
}

#status {
    position: fixed;
    bottom: 4px;
    left: 6px;
    color: #aaa;
    font-family: monospace;
    font-size: 12px;
    opacity: 0.6;
}
</style>
</head>
<body>

<div id="status">ACTIVE</div>

<script>
/* ================= RESOURCE CONTROL ================= */

// Throttle rendering when unfocused
let active = true;

document.addEventListener("visibilitychange", () => {
    active = !document.hidden;
    document.getElementById("status").textContent =
        active ? "ACTIVE" : "PAUSED";
});

// Prevent background CPU burn
(function throttle() {
    if (active) {
        requestAnimationFrame(throttle);
    } else {
        setTimeout(throttle, 1000);
    }
})();

// Disable unnecessary browser features
try {
    localStorage.clear();
    indexedDB.databases && indexedDB.databases().then(dbs => {
        dbs.forEach(db => indexedDB.deleteDatabase(db.name));
    });
} catch (e) {}

// Prevent accidental disk usage
window.addEventListener("beforeunload", () => {
    try { localStorage.clear(); } catch (e) {}
});

// Hint browser to prioritize this tab
document.body.addEventListener("click", () => {
    window.focus();
});

// ================= LOAD EAGLER =================
// You would embed or iframe your Eaglercraft client here
// Example placeholder:

const info = document.createElement("div");
info.style.color = "#666";
info.style.fontFamily = "monospace";
info.style.fontSize = "14px";
info.style.textAlign = "center";
info.style.marginTop = "40vh";
info.textContent = "Embed Eaglercraft here";
document.body.appendChild(info);

</script>
</body>
</html>
